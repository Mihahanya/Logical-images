<!DOCTYPE html>
<html>
<head>
	<title>Build an image according to a logical rule</title>
	<meta charset="utf-8">
	
	<script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
	<script src="build.js" type="text/javascript"></script>
</head>

<body>
	<textarea id="expression" type="text" spellcheck="false" placeholder="insert your logical expression here"></textarea>

  	<main>
		<svg id="display" viewBox="0 0 21 21" width="100%" height="100%"> </svg>
	</main>

	<footer> <a href="https:/github.com/Mihahanya"> 2022 Mihahanya </a> </footer>
</body>

<script>
	function display(bin_img) {
		var pixel = (pos_x, pos_y) => `<rect x="${pos_x}" y="${pos_y}" fill="#000" width="1" height="1" id="template"></rect>` 

		$('#display').attr("viewBox", `0 0 ${bin_img[0].length} ${bin_img.length}`)

		res = ''
		for (var i=0; i<bin_img.length; i++) {
			for (var j=0; j<bin_img[0].length; j++) {
				if (bin_img[i][j]) res += pixel(j, i)
			}	
		}

		$("#display").html(res);
	}

	display([[0, 1], [1, 0]])

	console.log(calculate_logical_expression('a + b * (b -> b) + a * (b * a ^ (~a^b+b) -> b)', {'a':1, 'b':0}))
	//console.log(calculate_logical_expression('a+(~b^c)->c', {'a':1, 'b':0, 'c':1}))

</script>

<style>
	body {
		background-color: whitesmoke;
	}

	textarea {
		position: absolute;
		top: 25px;
		left: 50%;
		transform: translate(-50%, 0);
		height: 20px;
		width: 50vmin;
		max-width: 50vmin;
		min-width: 50vmin;
		font-size: .95rem;
		padding: 10px 12px;
		text-align: left;
		border: 1px solid;
		background-color: #00000000;
		box-shadow: 5px 5px 15px 0px #0000001f;
	}
	textarea:focus-visible {
		outline: 0;
		border: 1px solid #3f51b5;
	}

	main {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
	}

	footer {
		position: absolute;
		bottom: 10px;
		left: 50%;
		transform: translate(-50%, -50%);
	}
</style>

</html>
